if (self.CavalryLogger) { CavalryLogger.start_js(["KjeR3"]); }

__d("PrivacyConst",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={BaseValue:{FRIEND_LIST:129,FRIENDS_PLUS_GAMER_FRIENDS:128,FRIENDS_MINUS_ACQUAINTANCES:127,FACEBOOK_EMPLOYEES:112,CUSTOM:111,EVERYONE:80,NETWORKS_FRIENDS_OF_FRIENDS:60,NETWORKS_FRIENDS:55,FRIENDS_OF_FRIENDS:50,ALL_FRIENDS:40,SELF:10,NOBODY:0},CustomPrivacyTokens:{FRIENDS:247124075410460,FRIENDS_OF_FRIENDS:498125493540100},FriendsValue:{EVERYONE:80,NETWORKS_FRIENDS:55,FRIENDS_OF_FRIENDS:50,ALL_FRIENDS:40,SOME_FRIENDS:30,SELF:10,NO_FRIENDS:0},PostParam:{EVERYONE:300645083384735,NETWORKS_FRIENDS:123780391104836,FRIENDS_OF_FRIENDS:275425949243301,FRIENDS:291667064279714,FRIENDS_MINUS_ACQUAINTANCES:284920934947802,ONLY_ME:286958161406148,FB_ONLY:411331705596297,EVENT_PUBLIC:1493271774218406,EVENT_OPEN_INVITE:854618297899786,EVENT_GUESTS_AND_FRIENDS:1439959856260766,EVENT_INVITE_ONLY:599950423437029},PrivacyField:{CURRENT_COMPOSER:8787670733,DEFAULT_COMPOSER:875106179167765,TIMELINE_TAGGED_CONTENT_VISIBILITY:8787530733,WALL_POSTS:8787370733,TAG_EXPANDED_CONTENT:8787795733,SEARCH_BY_PHONE:8787815733,SEARCH_BY_EMAIL:8787820733,CAN_FRIEND:8787540733,DEPRECATED_APP_DEFAULT:8787700733,SEARCH_BY_NAME:8787755733,SEARCH_BY_CONTACT_INFO:8787760733,SCREENNAME:8787335733,CURRENT_ADDRESS:8787355733,FRIENDS:8787365733,WEBSITE:8787375733,STATUS_UPDATES:8787395733,BIRTHDAY:8787510733,BIRTHYEAR:8787805733,CAN_COMMENT:8787535733,CAN_MESSAGE:8787545733,RELATIONSHIPS:8787550733,PROFILE_PICTURE_ALBUM:8787565733,DASHBOARD_ACTIVITY:8787575733,FAMILY:8787585733,INTERESTED_IN_LOOKING_FOR:8787590733,PLACES:8787620733,NAME_DAY:8787810733,LANGUAGES:8787625733,QUOTATIONS:8787630733,ABOUT_ME:8787635733,POLITICAL:8787640733,RELIGIOUS:8787645733,CURRENT_CITY:8787650733,HOMETOWN:8787655733,PROFILE_LIKES_AND_INTERESTS:8787660733,BLURB:8787665733,OTHER_LIKES_AND_INTERESTS:8787680733,SUBSCRIBERS:8787690733,SUBSCRIBED_TO:8787695733,PERSONAL_CONTACT_DEFAULT:8787765733,PAGE_CONTACT_DEFAULT:8787770733,AUTO_GENERATED_FB_EMAIL:8787775733,SKILLS:8787780733,CUSTOM_GENDERS:237760973066217,LOCATION_DO_NOT_WRITE_DIRECTLY:8787785733,SOCIAL_ADS:7719929599,PLATFORM_ADS:126540474531,BASS_ADS:183468681673909,ACTIVITIES:144331422306930,INTERESTS:113693108715766,MUSIC:172372399483077,BOOKS:100725463352700,GAMES:199298603444535,MOVIES:201146206594049,TV_SHOWS:129665560441221,SPORTS_PLAYED:129991670408857,FAVORITE_TEAMS:225288534151802,FAVORITE_ATHLETES:203380763033334,PEOPLE_I_ADMIRE:210380795648667,FAVORITE_FOODS:585935528106425,FAVORITE_RESTAURANTS:172588449584647,FAVORITE_WEBSITES:180412195459106,CLOTHING_BRANDS:397391233714082,LAST_POST_PRIVACY:314763985364212,SECOND_TO_LAST_POST_PRIVACY:321179124722698,PREVIOUS_SECONDARY_COMPOSER:864562253561430,RECENT_COMPOSER:358304524327898,NOW_COMPOSER:421290164697736,BACKSTAGE_PRIVACY:809506612451171},TagExpansion:{NONE:0,TAGGEES:1,FRIENDS_OF_TAGGEES:2},ExpansionType:{NONE:0,TAGS_ONLY:1}};},null);
__d("PUWApplications",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={WEB_SIMPLE:"web_simple",WEB_FLASH:"web_flash",WEB_HTML5:"web_html5",WEB_COMPOSER:"web_composer",WEB_ARCHIVE:"web_archive",WEB_MESSENGER:"web_messenger",WEB_OMNIPICKER:"web_omnipicker",WEB_MUSE_OMNIPICKER:"web_muse_omnipicker",WEB_SAY_THANKS:"web_say_thanks",WEB_GOODWILL_CAMPAIGN_OMNIPICKER:"web_goodwill_campaign_omnipicker",WEB_PRODUCT_PHOTO_OMNIPICKER:"web_product_photo_omnipicker",WEB_PAGES_MESSENGER:"web_pages_messenger",WEB_M_ZERO:"web_m_zero",WEB_M_BASIC:"web_m_basic",WEB_M_TOUCH:"web_m_touch",WEB_REACT_COMPOSER:"web_react_composer",MOBILE_FB4IOS:"mobile_fb4ios",MOBILE_FB4IOS_SNAP:"mobile_fb4ios_snap",MOBILE_FB4A:"mobile_fb4a",MOBILE_PMA_ANDROID:"mobile_pma_android",MOBILE_PMA_IOS:"mobile_pma_ios",THIRD_PARTY:"third_party"};},null);
__d("PUWSteps",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CLIENT_FLOW_BEGIN:"client_flow_begin",CLIENT_SELECT_BEGIN:"client_select_begin",CLIENT_SELECT_SUCCESS:"client_select_success",CLIENT_SELECT_CANCEL:"client_select_cancel",CLIENT_SELECT_FAIL:"client_select_fail",CLIENT_FLOW_POST:"client_flow_post",CLIENT_TRANSFER_BATCH_BEGIN:"client_transfer_batch_begin",CLIENT_UPLOAD_BEGIN:"client_upload_begin",CLIENT_ATTACH_PHOTO:"client_attach_photo",CLIENT_PROCESS_BEGIN:"client_process_begin",CLIENT_PROCESS_SUCCESS:"client_process_success",CLIENT_PROCESS_CANCEL:"client_process_cancel",CLIENT_PROCESS_SKIP:"client_process_skip",CLIENT_PROCESS_FAIL:"client_process_fail",CLIENT_PROCESS_UNAVAILABLE:"client_process_unavailable",CLIENT_TRANSFER_ENQUEUE:"client_transfer_enqueue",CLIENT_TRANSFER_BEGIN:"client_transfer_begin",CLIENT_TRANSFER_SUCCESS:"client_transfer_success",CLIENT_TRANSFER_CANCEL:"client_transfer_cancel",CLIENT_TRANSFER_FAIL:"client_transfer_fail",CLIENT_TRANSFER_MANUAL_RETRY:"client_transfer_manual_retry",CLIENT_UPLOAD_SUCCESS:"client_upload_success",CLIENT_UPLOAD_FAIL:"client_upload_fail",CLIENT_UPLOAD_CANCEL:"client_upload_cancel",CLIENT_UPLOAD_REMOVE:"client_upload_remove",CLIENT_FACEREC_BEGIN:"client_facerec_begin",CLIENT_FACEREC_SUCCESS:"client_facerec_success",CLIENT_FACEREC_FAIL:"client_facerec_fail",CLIENT_PHOTO_PREVIEW_OPEN:"client_photo_preview_open",CLIENT_PHOTO_PREVIEW_CLOSE:"client_photo_preview_close",CLIENT_TRANSFER_BATCH_SUCCESS:"client_transfer_batch_success",CLIENT_TRANSFER_BATCH_CANCEL:"client_transfer_batch_cancel",CLIENT_TRANSFER_BATCH_FAIL:"client_transfer_batch_fail",CLIENT_PUBLISH_ENQUEUE:"client_publish_enqueue",CLIENT_PUBLISH_BEGIN:"client_publish_begin",CLIENT_PUBLISH_SUCCESS:"client_publish_success",CLIENT_PUBLISH_FAIL:"client_publish_fail",CLIENT_ATTEMPT_FAIL:"client_attempt_fail",CLIENT_FLOW_SUCCESS:"client_flow_success",CLIENT_FLOW_FATAL:"client_flow_fatal",CLIENT_FLOW_GIVEUP:"client_flow_giveup",CLIENT_FLOW_CANCEL:"client_flow_cancel",CLIENT_FLOW_FAIL:"client_flow_fail",CLIENT_FLOW_INCOMPLETE:"client_flow_incomplete",CLIENT_ATTEMPT_INCOMPLETE:"client_attempt_incomplete",CLIENT_FLOW_RETRY:"client_flow_retry",CLIENT_ATTEMPT_RETRY:"client_attempt_retry",CLIENT_DIAGNOSTIC:"client_diagnostic",CLIENT_QUALITY_SWITCH:"client_quality_switch",CLIENT_CANCEL_SURVEY:"client_cancel_survey",CLIENT_PHOTO_EDIT_BEGIN:"client_photo_edit_begin",CLIENT_PHOTO_EDIT_SUCCESS:"client_photo_edit_success",SERVER_UPLOAD_BEGIN:"server_upload_begin",SERVER_UPLOAD_SUCCESS:"server_upload_success",SERVER_UPLOAD_FAIL:"server_upload_fail",SERVER_PUBLISH_BEGIN:"server_publish_begin",SERVER_PUBLISH_SUCCESS:"server_publish_success",SERVER_PUBLISH_FAIL:"server_publish_fail",SERVER_RECEIVER_BEGIN:"server_receiver_begin",SERVER_RECEIVER_PUBLISH_BEGIN:"server_receiver_publish_begin",SERVER_SENTRY_RESTRICTION:"server_sentry_restriction"};},null);
__d('BanzaiNectar',['Banzai'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(j){return {log:function(k,l,m){var n={e:l,a:m};c('Banzai').post('nectar:'+k,n,j);}};}var i=h();i.create=h;f.exports=i;},null);
__d('BlobFactory',['emptyFunction'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=void 0,i=void 0;function j(){try{new b.Blob();i=true;}catch(l){i=false;}}var k=b.BlobBuilder||b.WebKitBlobBuilder||b.MozBlobBuilder||b.MSBlobBuilder;if(b.Blob){h={getBlob:function(l,m){l=l||[];m=m||{};if(i===undefined)j();if(i){return new b.Blob(l,m);}else{var n=new k();for(var o=0;o<l.length;o++)n.append(l[o]);return n.getBlob(m.type);}},isSupported:c('emptyFunction').thatReturnsTrue};}else h={getBlob:function(){},isSupported:c('emptyFunction').thatReturnsFalse};f.exports=h;},null);
__d('whitelistObjectKeys',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j){var k={},l=Array.isArray(j)?j:Object.keys(j);for(var m=0;m<l.length;m++)if(typeof i[l[m]]!=='undefined')k[l[m]]=i[l[m]];return k;}f.exports=h;},null);
__d('getNormalizedClientRect',['getDocumentScrollElement'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i){var j=i.getBoundingClientRect(),k=0,l=0,m=c('getDocumentScrollElement')(i.ownerDocument),n=m.getBoundingClientRect();if(n.left>0){k=-n.left;}else{var o=m.scrollWidth+n.left,p=n.width;if(p>o)k=p-o;}if(n.top>0)l=-n.top;return {bottom:j.bottom+l,height:j.height,left:j.left+k,right:j.right+k,top:j.top+l,width:j.width};}f.exports=h;},null);
__d('PhotosUploadWaterfallXMixin',['invariant','AsyncSignal','Banzai','Map','PhotosUploadWaterfallXConfig','Set','randomInt'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=new (c('Map'))();function j(l,m){var n={};l.client_time=Math.round(Date.now()/1000);if(c('PhotosUploadWaterfallXConfig').retryBanzai){n.retry=true;l.nonce=c('randomInt')(4294967296);}c('Banzai').post(c('PhotosUploadWaterfallXConfig').banzaiRoute,l,n);if(m)setTimeout(m,0);}function k(l,m){if(c('PhotosUploadWaterfallXConfig').useBanzai){j(l,m);}else{var n=new (c('AsyncSignal'))(c('PhotosUploadWaterfallXConfig').loggingEndpoint,{data:JSON.stringify(l)}).setHandler(m);if(c('PhotosUploadWaterfallXConfig').timeout)n.setTimeout(10*1000);n.send();}}f.exports={logStep:function(l,m,n){var o=this.getWaterfallID&&this.getWaterfallID(),p=this.getWaterfallAppName&&this.getWaterfallAppName();if(!o||!p)return;k(babelHelpers['extends']({step:l,qn:o,uploader:p,ref:this.getWaterfallSource&&this.getWaterfallSource()},m),n);},logPUWStep:function(l,m,n,o,p,q,r){if(q&&q.logOncePerSession){if(!i.has(m))i.set(m,new (c('Set'))());if(i.get(m).has(l))return;i.get(m).add(l);}k(Object.assign({step:l,qn:m,uploader:n,ref:o},p),r);}};},null);
__d("regeneratorRuntime",["Promise"],function a(b,c,d,e,f,g){"use strict";if(c.__markCompiled)c.__markCompiled();var h=Object.prototype.hasOwnProperty,i=typeof Symbol==="function"&&(typeof Symbol==="function"?Symbol.iterator:"@@iterator")||"@@iterator",j=f.exports;function k(ea,fa,ga,ha){var ia=Object.create((fa||r).prototype),ja=new ba(ha||[]);ia._invoke=y(ea,ga,ja);return ia;}j.wrap=k;function l(ea,fa,ga){try{return {type:"normal",arg:ea.call(fa,ga)};}catch(ha){return {type:"throw",arg:ha};}}var m="suspendedStart",n="suspendedYield",o="executing",p="completed",q={};function r(){}function s(){}function t(){}var u=t.prototype=r.prototype;s.prototype=u.constructor=t;t.constructor=s;s.displayName="GeneratorFunction";function v(ea){["next","throw","return"].forEach(function(fa){ea[fa]=function(ga){return this._invoke(fa,ga);};});}j.isGeneratorFunction=function(ea){var fa=typeof ea==="function"&&ea.constructor;return fa?fa===s||(fa.displayName||fa.name)==="GeneratorFunction":false;};j.mark=function(ea){if(Object.setPrototypeOf){Object.setPrototypeOf(ea,t);}else Object.assign(ea,t);ea.prototype=Object.create(u);return ea;};j.awrap=function(ea){return new w(ea);};function w(ea){this.arg=ea;}function x(ea){function fa(la,ma){var na=ea[la](ma),oa=na.value;return oa instanceof w?c("Promise").resolve(oa.arg).then(ga,ha):c("Promise").resolve(oa).then(function(pa){na.value=pa;return na;});}if(typeof process==="object"&&process.domain)fa=process.domain.bind(fa);var ga=fa.bind(ea,"next"),ha=fa.bind(ea,"throw"),ia=fa.bind(ea,"return"),ja;function ka(la,ma){var na=ja?ja.then(function(){return fa(la,ma);}):new (c("Promise"))(function(oa){oa(fa(la,ma));});ja=na["catch"](function(oa){});return na;}this._invoke=ka;}v(x.prototype);j.async=function(ea,fa,ga,ha){var ia=new x(k(ea,fa,ga,ha));return j.isGeneratorFunction(fa)?ia:ia.next().then(function(ja){return ja.done?ja.value:ia.next();});};function y(ea,fa,ga){var ha=m;return function ia(ja,ka){if(ha===o)throw new Error("Generator is already running");if(ha===p){if(ja==="throw")throw ka;return da();}while(true){var la=ga.delegate;if(la){if(ja==="return"||ja==="throw"&&la.iterator[ja]===undefined){ga.delegate=null;var ma=la.iterator["return"];if(ma){var na=l(ma,la.iterator,ka);if(na.type==="throw"){ja="throw";ka=na.arg;continue;}}if(ja==="return")continue;}var na=l(la.iterator[ja],la.iterator,ka);if(na.type==="throw"){ga.delegate=null;ja="throw";ka=na.arg;continue;}ja="next";ka=undefined;var oa=na.arg;if(oa.done){ga[la.resultName]=oa.value;ga.next=la.nextLoc;}else{ha=n;return oa;}ga.delegate=null;}if(ja==="next"){if(ha===n){ga.sent=ka;}else ga.sent=undefined;}else if(ja==="throw"){if(ha===m){ha=p;throw ka;}if(ga.dispatchException(ka)){ja="next";ka=undefined;}}else if(ja==="return")ga.abrupt("return",ka);ha=o;var na=l(ea,fa,ga);if(na.type==="normal"){ha=ga.done?p:n;var oa={value:na.arg,done:ga.done};if(na.arg===q){if(ga.delegate&&ja==="next")ka=undefined;}else return oa;}else if(na.type==="throw"){ha=p;ja="throw";ka=na.arg;}}};}v(u);u[i]=function(){return this;};u.toString=function(){return "[object Generator]";};function z(ea){var fa={tryLoc:ea[0]};if(1 in ea)fa.catchLoc=ea[1];if(2 in ea){fa.finallyLoc=ea[2];fa.afterLoc=ea[3];}this.tryEntries.push(fa);}function aa(ea){var fa=ea.completion||{};fa.type="normal";delete fa.arg;ea.completion=fa;}function ba(ea){this.tryEntries=[{tryLoc:"root"}];ea.forEach(z,this);this.reset(true);}j.keys=function(ea){var fa=[];for(var ga in ea)fa.push(ga);fa.reverse();return function ha(){while(fa.length){var ia=fa.pop();if(ia in ea){ha.value=ia;ha.done=false;return ha;}}ha.done=true;return ha;};};function ca(ea){if(ea){var fa=ea[i];if(fa)return fa.call(ea);if(typeof ea.next==="function")return ea;if(!isNaN(ea.length)){var ga=-1,ha=function ia(){while(++ga<ea.length)if(h.call(ea,ga)){ia.value=ea[ga];ia.done=false;return ia;}ia.value=undefined;ia.done=true;return ia;};return ha.next=ha;}}return {next:da};}j.values=ca;function da(){return {value:undefined,done:true};}ba.prototype={constructor:ba,reset:function(ea){this.prev=0;this.next=0;this.sent=undefined;this.done=false;this.delegate=null;this.tryEntries.forEach(aa);if(!ea)for(var fa in this)if(fa.charAt(0)==="t"&&h.call(this,fa)&&!isNaN(+fa.slice(1)))this[fa]=undefined;},stop:function(){this.done=true;var ea=this.tryEntries[0],fa=ea.completion;if(fa.type==="throw")throw fa.arg;return this.rval;},dispatchException:function(ea){if(this.done)throw ea;var fa=this;function ga(ma,na){ja.type="throw";ja.arg=ea;fa.next=ma;return !!na;}for(var ha=this.tryEntries.length-1;ha>=0;--ha){var ia=this.tryEntries[ha],ja=ia.completion;if(ia.tryLoc==="root")return ga("end");if(ia.tryLoc<=this.prev){var ka=h.call(ia,"catchLoc"),la=h.call(ia,"finallyLoc");if(ka&&la){if(this.prev<ia.catchLoc){return ga(ia.catchLoc,true);}else if(this.prev<ia.finallyLoc)return ga(ia.finallyLoc);}else if(ka){if(this.prev<ia.catchLoc)return ga(ia.catchLoc,true);}else if(la){if(this.prev<ia.finallyLoc)return ga(ia.finallyLoc);}else throw new Error("try statement without catch or finally");}}},abrupt:function(ea,fa){for(var ga=this.tryEntries.length-1;ga>=0;--ga){var ha=this.tryEntries[ga];if(ha.tryLoc<=this.prev&&h.call(ha,"finallyLoc")&&this.prev<ha.finallyLoc){var ia=ha;break;}}if(ia&&(ea==="break"||ea==="continue")&&ia.tryLoc<=fa&&fa<=ia.finallyLoc)ia=null;var ja=ia?ia.completion:{};ja.type=ea;ja.arg=fa;if(ia){this.next=ia.finallyLoc;}else this.complete(ja);return q;},complete:function(ea,fa){if(ea.type==="throw")throw ea.arg;if(ea.type==="break"||ea.type==="continue"){this.next=ea.arg;}else if(ea.type==="return"){this.rval=ea.arg;this.next="end";}else if(ea.type==="normal"&&fa)this.next=fa;},finish:function(ea){for(var fa=this.tryEntries.length-1;fa>=0;--fa){var ga=this.tryEntries[fa];if(ga.finallyLoc===ea){this.complete(ga.completion,ga.afterLoc);aa(ga);return q;}}},"catch":function(ea){for(var fa=this.tryEntries.length-1;fa>=0;--fa){var ga=this.tryEntries[fa];if(ga.tryLoc===ea){var ha=ga.completion;if(ha.type==="throw"){var ia=ha.arg;aa(ga);}return ia;}}throw new Error("illegal catch attempt");},delegateYield:function(ea,fa,ga){this.delegate={iterator:ca(ea),resultName:fa,nextLoc:ga};return q;}};},null);
__d('FeedTrackingAsync',['Arbiter','Run','collectDataAttributes'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h;f.exports.init=function(){if(h)return;h=c('Arbiter').subscribe('AsyncRequest/send',function(i,j){var k=j.request,l=k.getRelativeTo();if(l){var m=k.getData(),n=c('collectDataAttributes')(l,['ft']);if(n.ft&&Object.keys(n.ft).length)Object.assign(m,n);}});c('Run').onLeave(function(){h.unsubscribe();h=null;});};},null);
__d('AccessibilityLogger',['AsyncSignal','Cookie'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={COOKIE:'a11y',DECAY_MS:6*60*60*1000,DEFAULT:{sr:0,'sr-ts':Date.now(),jk:0,'jk-ts':Date.now(),kb:0,'kb-ts':Date.now(),hcm:0,'hcm-ts':Date.now()},getCookie:function(){var i=h.DEFAULT,j=c('Cookie').get(h.COOKIE);if(j){j=JSON.parse(j);for(var k in i)if(k in j)i[k]=j[k];}return i;},logKey:function(i,j){var k=h.getCookie();k[i]++;var l=Date.now();if(l-k[i+'-ts']>h.DECAY_MS){new (c('AsyncSignal'))('/ajax/accessibilitylogging',{eventName:j,times_pressed:k[i]}).send();k[i+'-ts']=l;k[i]=0;}c('Cookie').set(h.COOKIE,JSON.stringify(k));},logHCM:function(){h.logKey('hcm','hcm_users');},logSRKey:function(){h.logKey('sr','sr_users');},logJKKey:function(){h.logKey('jk','jk_users');},logFocusIn:function(){h.logKey('kb','kb_users');}};f.exports=h;},null);
__d('DOMClone',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={shallowClone:function(j){return i(j,false);},deepClone:function(j){return i(j,true);}};function i(j,k){var l=j.cloneNode(k);if(typeof l.__FB_TOKEN!=='undefined')delete l.__FB_TOKEN;return l;}f.exports=h;},null);
__d('FileInput',['cx','ArbiterMixin','DOM','DOMClone','Event','Focus','Keys','UserAgent_DEPRECATED','mixin'],function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('UserAgent_DEPRECATED').ie();i=babelHelpers.inherits(l,c('mixin')(c('ArbiterMixin')));j=i&&i.prototype;function l(m,n,o){'use strict';j.constructor.call(this);this.container=m;this.control=n;var p=c('DOM').scry(this.container,'a')[0];p&&p.removeAttribute('href');var q=c('DOM').create('div',{className:"_3jk"},o);c('DOM').appendContent(this.control,q);this._boundHandleChange=this._handleChange.bind(this);if(k)this._boundHandleIEKeyDown=this._handleIEKeyDown.bind(this);this._setInputElement(o);}l.prototype.getValue=function(){'use strict';return this.input.value;};l.prototype.getInput=function(){'use strict';return this.input;};l.prototype.getContainer=function(){'use strict';return this.container;};l.prototype.getControl=function(){'use strict';return this.control;};l.prototype.clear=function(){'use strict';if(k){var m=c('DOMClone').deepClone(this.input);c('DOM').replace(this.input,m);this._setInputElement(m);}else this.input.value='';};l.prototype.destroy=function(){'use strict';this._focus.remove();this._focus=null;this._listener.remove();this._listener=null;if(k){this._IEKeyDownListener.remove();this._IEKeyDownListener=null;}this.container=null;this.control=null;this.input=null;};l.prototype._setInputElement=function(m){'use strict';this.input=m;this._focus&&this._focus.remove();this._focus=c('Focus').relocate(m,this.control);this._listener&&this._listener.remove();this._listener=c('Event').listen(m,'change',this._boundHandleChange);if(k){this._IEKeyDownListener&&this._IEKeyDownListener.remove();this._IEKeyDownListener=c('Event').listen(m,'keydown',this._boundHandleIEKeyDown);}};l.prototype._handleChange=function(event){'use strict';this.inform('change',event);if(this.input){var m=this.input.form;if(m&&k<9)c('Event').fire(m,'change',event);}};l.prototype._handleIEKeyDown=function(event){'use strict';if(event.keyCode===c('Keys').RETURN){event.preventDefault();var m=document.createEvent('MouseEvents');m.initEvent('click',true,true);this.input.dispatchEvent(m);}};f.exports=l;},null);
__d("PhotosUploadID",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=1024,i={getNewID:function(){return (h++).toString();}};f.exports=i;},null);
__d('PopoverAsyncMenu',['Bootloader','Event','KeyStatus','PopoverMenu','VirtualCursorStatus','setImmediate'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();var j={},k=0;h=babelHelpers.inherits(l,c('PopoverMenu'));i=h&&h.prototype;function l(m,n,o,p,q,r){'use strict';i.constructor.call(this,m,n,null,q);this._endpoint=p;this._endpointData=r||{};this._loadingMenu=o;this._instanceId=k++;j[this._instanceId]=this;this._mouseoverListener=c('Event').listen(n,'mouseover',this.fetchMenu.bind(this));}l.prototype._onLayerInit=function(){'use strict';if(!this._menu&&this._loadingMenu)this.setMenu(this._loadingMenu);this._popover.getLayer().subscribe('key',this._handleKeyEvent.bind(this));this._triggerInfo={isKeyDown:c('KeyStatus').isKeyDown(),isVirtualCursorTriggered:c('VirtualCursorStatus').isVirtualCursorTriggered()};c('setImmediate')(function(){return this.fetchMenu();}.bind(this));};l.prototype._onPopoverHide=function(){'use strict';i._onPopoverHide.call(this);this._triggerInfo=null;};l.prototype.fetchMenu=function(){'use strict';if(this._fetched)return;c('Bootloader').loadModules(["AsyncRequest"],function(m){new m().setURI(this._endpoint).setData(Object.assign({pmid:this._instanceId},this._endpointData)).send();}.bind(this),'PopoverAsyncMenu');this._fetched=true;if(this._mouseoverListener){this._mouseoverListener.remove();this._mouseoverListener=null;}};l.prototype._setFocus=function(m){'use strict';var n=this._triggerInfo||{},o=n.isKeyDown,p=n.isVirtualCursorTriggered;this.setInitialFocus(m,o||p);this._triggerInfo=null;};l.setMenu=function(m,n){'use strict';var o=j[m];o.setMenu(n);o._setFocus(n);};l.getInstance=function(m){'use strict';return j[m];};l.getInstanceByTriggerElem=function(m){'use strict';var n=null;Object.keys(j).forEach(function(o){if(j[o]._triggerElem==m)n=j[o];});return n;};f.exports=l;},null);
__d('ViewportTrackingHelper',['Event','Vector','getViewportDimensions'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={getScrollListener:function(i){return c('Event').listen(window,'scroll',i);},looseIsVisible:function(i,j){if(!i.x&&!i.y&&!i.width&&!i.height)return false;var k=c('Vector').getScrollPosition().y,l=c('getViewportDimensions')().height,m=l+j-k;return i.y<m;},isVisible:function(i,j){if(!i.x&&!i.y&&!i.width&&!i.height)return false;var k=c('getViewportDimensions')().height,l=Math.max(i.y,0),m=Math.min(i.y+i.height,k),n=Math.min(i.height,j);return m-l>=n;},isDescendantOf:function(i,j){if(i===j)return i;while(i&&i.parentNode){if(i.parentNode===j)return i;i=i.parentNode;}return false;}};f.exports=h;},null);
__d('ViewportTracking',['cx','Arbiter','AsyncSignal','Banzai','BanzaiScuba','CSS','CurrentUser','DOM','DOMDimensions','Event','LitestandMessages','NavigationMessage','Run','SubscriptionsHandler','UserActivity','Vector','ViewportTrackingHelper','clickRefAction','collectDataAttributes','debounce','getElementPosition','getViewportDimensions','throttle'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=97,j=51,k='vpv',l='/feed/feed_tracking/vpv_waterfall_logging',m=3,n=2,o=1,p=0,q=1,r=2,s=3,t=4;function u(){'use strict';}u.prototype.init=function(v){'use strict';this.useBanzai=true;this.vpvDebug=!!v.vpv_debug;this.vpvdDebug=!!v.vpvd_debug;this.vpvdAnalysis=!!v.vpvd_analysis;this.useWaterfallLogging=!!v.waterfall_logging;this.loggedStoryIDs={};this.readStoryIDs={};this.annotatedStoryIDs={};this.minSizeToBeVisible=200;this.minFractionToBeVisibleForTimetracking=.5;this.scrollThrottlingInterval=100;this.mouseThrottlingInterval=100;this.keyboardThrottlingInterval=100;this.minTimeToReportImmediately=500;this.discardVPVDIntervalThreshold=90000;this.active_state_duration=1000;this.height_diff_to_change_state=25;this.focused_state_duration=3500;this.invalidateAllStoriesCache();this.cachedViewportHeight=c('getViewportDimensions')().height;this.isTimetrackingEnabled=0;this.activeStories={};this.userInactiveLock=false;this.userActivityPollerTimeoutID=-1;this._headLoadStoryCount=0;this.getDataFromConfig(v);if(this.isTimetrackingEnabled){this.lastMouseX=-1;this.lastMouseY=-1;this.lastStreamY=-1;this.latestStreamYChangedTimeStamp=-1;this.userFocus=r;this.latestUserFocus=r;this.latestUserActivity='init';this.focusedStory=null;this.latestFocusedStory=null;this.latestActiveStory=null;this.totalVPVDuration={};}this.isLoose=!!v.is_loose;this.maxScrollPosition=0;if(v.tracking_duration_config){this.scrollThrottlingInterval=v.tracking_duration_config.scroll_throttling_interval;this.mouseThrottlingInterval=v.tracking_duration_config.mouse_throttling_interval;this.keyboardThrottlingInterval=v.tracking_duration_config.keyboard_throttling_interval;this.userActivityPollingInterval=v.tracking_duration_config.user_activity_polling_interval;this.timeToBeConsideredInactive=v.tracking_duration_config.time_to_be_considered_inactive;this.minFractionToBeVisibleForTimetracking=v.tracking_duration_config.min_fraction_to_be_visible;this.minTimeToReportImmediately=v.tracking_duration_config.min_time_to_report_immediately;this.active_state_duration=v.tracking_duration_config.active_state_duration;this.height_diff_to_change_state=v.tracking_duration_config.story_height_diff_to_change_state;this.focused_state_duration=v.tracking_duration_config.focused_state_duration;this.discardVPVDIntervalThreshold=v.tracking_duration_config.discard_vpvd_interval_threshold;}var w,x=c('debounce')(this.fireTimer,this.getTimeout(),this);if(this.isLoose){this.minSizeToBeVisible=0;w=c('throttle')(function(){this.maxScrollPosition=Math.max(this.maxScrollPosition,c('Vector').getScrollPosition().y);x();}.bind(this));}else w=x;this.initialStories=this.getStoriesInView();this.initialStoriesLogged=false;if(this.annotatedVPVLogging)this.initialStories.forEach(this.logAnnotatedVPV,this);if(this.useWaterfallLogging)this.getStoriesInView().forEach(function(ba){this.waterfallLogStep(ba,'100_all_stories_in_view_ignore_height',true);},this);this.subscriptions=new (c('SubscriptionsHandler'))();this.subscriptions.addSubscriptions(this._getScrollListener(w),c('Event').listen(window,'resize',function(){this.invalidateVisibleStoriesCache();this.cachedViewportHeight=c('getViewportDimensions')().height;w();}.bind(this)),c('Event').listen(window,'focus',function(){if(this.isTimetrackingEnabled)this.updateTimeTrackingData(false,'window_focus');}.bind(this)),c('Event').listen(window,'blur',function(){if(this.isTimetrackingEnabled)this.updateTimeTrackingData(true,'window_blur');}.bind(this)),c('Arbiter').subscribe(c('NavigationMessage').NAVIGATION_BEGIN,this.cleanup.bind(this)),c('Arbiter').subscribe('Stream/totalHeadLoadedStories',function(ba,ca){this._headLoadStoryCount=ca.count;}.bind(this)),c('Arbiter').subscribe(c('LitestandMessages').STORIES_INSERTED,function(){if(!this.initialStoriesLogged){var ba=this.getStoriesInView();ba.forEach(this.logAnnotatedVPV,this);}else w();if(this.isTimetrackingEnabled)this.updateTimeTrackingData(false,'stories_inserted');}.bind(this)));if(this.isTimetrackingEnabled){this.updateTimeTrackingData(false,'init');var y=c('throttle')(function(event){this.invalidateVisibleStoriesCache();this.handleScroll(event);}.bind(this),this.scrollThrottlingInterval),z=c('throttle')(function(event){this.handleKeyboard(event);}.bind(this),this.keyboardThrottlingInterval),aa=c('throttle')(function(event){this.handleMouse(event);}.bind(this),this.mouseThrottlingInterval);this.subscriptions.addSubscriptions(c('Event').listen(window,'scroll',y),c('Event').listen(document.documentElement,'DOMMouseScroll',y),c('Event').listen(document.documentElement,'mousewheel',y));this.subscriptions.addSubscriptions(c('Event').listen(document.documentElement,'keydown',z));this.subscriptions.addSubscriptions(c('Event').listen(document.documentElement,'mouseover',aa),c('Event').listen(document.documentElement,'mousemove',aa));this.subscriptions.addSubscriptions(c('Arbiter').subscribe('Event/stop',function(ba,ca){this.handleMouse(ca.event);}.bind(this)));this.subscriptions.addSubscriptions(c('Event').listen(document.documentElement,'click',function(event){this.handleMouse(event);}.bind(this)),c('Arbiter').subscribe('PhotoSnowlift.OPEN',function(){this.userFocus=s;this.handleLayers();}.bind(this)),c('Arbiter').subscribe('PhotoSnowlift.CLOSE',function(){this.userFocus=q;this.focusedStory=null;this.updateTimeTrackingData(false,'snowlift_close');}.bind(this)));this._userActivityPoller();}c('Run').onLeave(this.cleanup.bind(this));c('Run').onUnload(this.cleanup.bind(this));};u.prototype._getScrollListener=function(v){'use strict';return c('Event').listen(window,'scroll',v);};u.prototype.cleanup=function(){'use strict';if(this.subscriptions){this.subscriptions.release();this.subscriptions=null;}if(this.isTimetrackingEnabled){clearTimeout(this.userActivityPollerTimeoutID);this.updateTimeTrackingData(true,'cleanup');}if(this.annotatedVPVLogging){var v=this.getStoriesInView();v.forEach(this.logAnnotatedVPV,this);}this.initialStories=[];this._headLoadStoryCount=0;};u.prototype.fireTimer=function(){'use strict';if(this.useWaterfallLogging){var v=this.getStoriesInViewIgnoreHeight();v.forEach(function(w){this.waterfallLogStep(w,'100_all_stories_in_view_ignore_height');},this);}if(!this.initialStoriesLogged){this.initialStories.forEach(this.markStoryRead,this);this.initialStoriesLogged=true;}this.storiesInView=this.getStoriesInView();this.storiesInView.forEach(this.markStoryRead,this);};u.prototype.getSessionID=function(){'use strict';return null;};u.prototype._userActivityPoller=function(){'use strict';if(!this.userInactiveLock&&!c('UserActivity').isActive(this.timeToBeConsideredInactive)){this.userInactiveLock=true;this.userFocus=r;this.updateTimeTrackingData(false,'user_activity_inactive');c('UserActivity').subscribeOnce(function(){this.userFocus=q;this.updateTimeTrackingData(false,'user_activity_active');this.userInactiveLock=false;}.bind(this));}this.userActivityPollerTimeoutID=setTimeout(this._userActivityPoller.bind(this),this.userActivityPollingInterval);};u.prototype.getQueryID=function(v){'use strict';return -1;};u.prototype.getFBFeedLocations=function(v){'use strict';return -1;};u.prototype.getFBFeedInsertionPosition=function(v){'use strict';return -1;};u.prototype.createVPVDTimer=function(v){'use strict';var w=document.createElement("Label");w.setAttribute("for",v);w.setAttribute("class",'vpvd_debug_timer');return w;};u.prototype.updateVPVDTimer=function(v){'use strict';var w=this.activeStories[v].story,x=c('DOM').scry(w,'.vpvd_debug_timer');if(!x.length){x=[this.createVPVDTimer(w),this.createVPVDTimer(w)];var y=c('DOM').scry(w,'.UFIRow');if(y.length&&y[y.length-1].clientWidth>0){y[y.length-1].appendChild(x[0]);}else w.appendChild(x[0]);w.insertBefore(x[1],w.firstChild);}var z=this.totalVPVDuration[v],aa=Math.floor(z/1000)+'.'+Math.floor(z%1000/100);c('DOM').setContent(x[0],aa);c('DOM').setContent(x[1],aa);};u.prototype.updateVPVDTimers=function(){'use strict';for(var v in this.activeStories)if(this.activeStories.hasOwnProperty(v))this.updateVPVDTimer(v);};u.prototype.logVpvdAnalysis=function(v,w,x,y,z,aa){'use strict';var ba=new (c('BanzaiScuba'))('vpv_duration');ba.addDenorm('qid',this.getQueryID(this.activeStories[v].story));ba.addDenorm('uid',c('CurrentUser').getID());ba.addDenorm('vsid',v);ba.addInteger('time',Math.round(Date.now()/1000));ba.addInteger('duration',y);ba.addInteger('total_duration',z);ba.addNormal('story_state',this.activeStories[v].state);ba.addNormal('is_active_state',x);ba.addNormal('num_visible_stories',this.numVisibleStories);ba.addInteger('story_height',this.activeStories[v].story_height);ba.addInteger('story_visible_height',this.activeStories[v].height);ba.addInteger('state_visible_height',aa);ba.addInteger('total_visible_height',this.totalVisibleHeight);ba.addInteger('total_height',this.totalHeight);ba.addNormal('user_focus',this.latestUserFocus);ba.addNormal('next_user_focus',this.userFocus);ba.addInteger('vpvd',w);ba.addInteger('accumulated_vpvd',this.activeStories[v].vpvd);ba.addNormal('user_activity',this.latestUserActivity);ba.addNormal('next_user_activity',this.userActivity);ba.addInteger('story_position_y',this.activeStories[v].y);ba.addInteger('feed_insertion_position',this.getFBFeedInsertionPosition(this.activeStories[v].story));ba.addNormal('visible_position',this.activeStories[v].visible_position);ba.addNormal('is_focused_story',this.activeStories[v].is_focused);ba.post();};u.prototype.shouldDiscardStory=function(v){'use strict';return this.activeStories[v].height!=this.activeStories[v].story_height&&this.activeStories[v].height<this.totalHeight/2;};u.prototype.calculateTotalHeight=function(){'use strict';this.totalHeight=0;for(var v in this.activeStories)if(this.activeStories.hasOwnProperty(v))this.totalHeight+=this.activeStories[v].height;};u.prototype.updateVPVDurations=function(v){'use strict';if(this.latestUserFocus===r||v-this.latestTimeTrackingTimestamp>this.discardVPVDIntervalThreshold)return;var w={1:0,2:0,3:0},x=v-this.latestTimeTrackingTimestamp>=this.focused_state_duration;this.totalVisibleHeight=0;for(var y in this.activeStories)if(this.activeStories.hasOwnProperty(y))if(!(this.latestUserFocus===q&&x&&this.shouldDiscardStory(y))){w[this.activeStories[y].state]+=this.activeStories[y].height;this.totalVisibleHeight+=this.activeStories[y].height;}var z=0,aa=v-this.latestTimeTrackingTimestamp;if(this.latestUserFocus===q){aa=w[m]>0?this.focused_state_duration:this.active_state_duration;aa=Math.min(aa,v-this.latestTimeTrackingTimestamp);z=v-this.latestTimeTrackingTimestamp-aa;}var ba=0,ca=m;for(var da=m;da>=o;da--)if(w[da]>0){ba=w[da];ca=da;break;}var ea=w[m]+w[n]+w[o],fa=0;for(y in this.activeStories)if(this.activeStories.hasOwnProperty(y)){if(this.latestUserFocus===q&&x&&this.shouldDiscardStory(y))continue;if(ba>0&&this.activeStories[y].state>=ca){fa=aa*(this.activeStories[y].height/ba);if(this.vpvdAnalysis&&aa>0)this.logVpvdAnalysis(y,fa,true,aa,aa+z,ba);this.activeStories[y].vpvd+=fa;this.totalVPVDuration[y]+=fa;}if(ea>0){fa=z*(this.activeStories[y].height/ea);if(this.vpvdAnalysis&&z>0)this.logVpvdAnalysis(y,fa,false,z,aa+z,ea);this.activeStories[y].vpvd+=fa;this.totalVPVDuration[y]+=fa;}}};u.prototype.updateActiveStory=function(v,w,x,y){'use strict';this.activeStories[v].state=w;this.activeStories[v].ts=x;this.activeStories[v].height_snapshot=y[v].height;this.activeStories[v].is_focused=this.focusedStory===y[v].story;this.activeStories[v].story_height=y[v].story_height;if(this.vpvdAnalysis){this.activeStories[v].visible_position=y[v].visible_position;this.activeStories[v].y=y[v].y;}};u.prototype.updateActiveStories=function(v,w){'use strict';for(var x in v)if(v.hasOwnProperty(x))if(x in this.activeStories){this.activeStories[x].height=v[x].height;var y=v[x].height-this.activeStories[x].height_snapshot;if(this.focusedStory===v[x].story){this.updateActiveStory(x,m,w,v);}else if(y<=-this.height_diff_to_change_state){this.updateActiveStory(x,this.shouldDiscardStory(x)?p:o,w,v);}else if(y>=this.height_diff_to_change_state||this.activeStories[x].is_focused||this.activeStories[x].height===this.activeStories[x].story_height)this.updateActiveStory(x,n,w,v);}else{this.activeStories[x]={evp_ts:w,story:v[x].story,height:v[x].height,vpvd:0};if(!this.totalVPVDuration[x])this.totalVPVDuration[x]=0;this.updateActiveStory(x,n,w,v);}};u.prototype.recordVPVDurations=function(v,w){'use strict';for(var x in this.activeStories)if(this.activeStories.hasOwnProperty(x))if(w||!(x in v)){if(this.activeStories[x].vpvd>this.focused_state_duration||this.activeStories[x].vpvd===this.totalVPVDuration[x])this.recordTimeStoryWasInView(this.activeStories[x]);delete this.activeStories[x];}};u.prototype.updateTimeTrackingData=function(v,w){'use strict';this.userActivity=w;if(!this.activeStories)this.activeStories={};var x=Date.now();if(!this.latestTimeTrackingTimestamp)this.latestTimeTrackingTimestamp=x;var y=this.getVisibleStoriesFromCache();this.calculateTotalHeight();this.updateVPVDurations(x);this.updateActiveStories(y,x);if(this.vpvdDebug)this.updateVPVDTimers();this.recordVPVDurations(y,v);if(v){this.latestTimeTrackingTimestamp=0;}else this.latestTimeTrackingTimestamp=x;this.latestUserActivity=this.userActivity;this.latestUserFocus=this.userFocus;if(this.focusedStory)this.latestActiveStory=this.focusedStory;this.latestFocusedStory=this.focusedStory;this.focusedStory=null;};u.prototype.needsToUpdateTimeTrackingData=function(){'use strict';return !(this.latestUserFocus===this.userFocus&&(this.userFocus===r||this.userFocus===q&&!this.latestFocusedStory&&!this.focusedStory));};u.prototype.getfocusedStory=function(v){'use strict';var w=this.getVisibleStoriesFromCache();for(var x in w)if(w.hasOwnProperty(x))if(c('ViewportTrackingHelper').isDescendantOf(v,w[x].story))return w[x].story;return null;};u.prototype.handleLayers=function(){'use strict';if(this.userFocus===s||this.userFocus===t){this.focusedStory=this.latestActiveStory;this.updateTimeTrackingData(false,'media_layer');return true;}return false;};u.prototype.didInteractWithStream=function(v){'use strict';return c('ViewportTrackingHelper').isDescendantOf(v,this.getStream())||c('ViewportTrackingHelper').isDescendantOf(this.getStream(),v);};u.prototype.handleScroll=function(event){'use strict';if(this.handleLayers())return;var v=Date.now(),w=c('getElementPosition')(this.getStream()).y;if(w!=this.lastStreamY||v-this.latestStreamYChangedTimeStamp<2.5*this.scrollThrottlingInterval||this.didInteractWithStream(event.target)){this.latestStreamYChangedTimeStamp=v;this.userFocus=q;}else this.userFocus=r;this.lastStreamY=w;if(this.userFocus===q||this.needsToUpdateTimeTrackingData())this.updateTimeTrackingData(false,'scroll');};u.prototype.handleKeyboard=function(event){'use strict';if(this.handleLayers())return;if(this.didInteractWithStream(event.target)){this.userFocus=q;this.focusedStory=this.getfocusedStory(event.target);}else if(c('CSS').hasClass(event.target,'shareInput')){this.userFocus=q;this.focusedStory=this.latestActiveStory;}else this.userFocus=r;if(this.userFocus===q||this.needsToUpdateTimeTrackingData())this.updateTimeTrackingData(false,'keyboard');};u.prototype.handleMouse=function(event){'use strict';if(this.handleLayers())return;if(event.type!='click'&&event.clientX===this.lastMouseX&&event.clientY===this.lastMouseY)return;if(event.type==='click')this.invalidateVisibleStoriesCache();if(this.didInteractWithStream(event.target)){this.userFocus=q;this.focusedStory=this.getfocusedStory(event.target);}else this.userFocus=r;this.lastMouseX=event.clientX;this.lastMouseY=event.clientY;if(this.needsToUpdateTimeTrackingData())this.updateTimeTrackingData(false,event.type);};u.prototype.getStoriesInView=function(){'use strict';var v=this.getAllStories(),w=[],x=false;for(var y=0;y<v.length;y++){var z=v[y],aa=this.getStoryID(z);if(this.hasBeenVisible(aa))continue;if(this.isVisible(z)){if(z.getAttribute('data-insertion-position')===null)z.setAttribute('data-insertion-position',y-this._headLoadStoryCount);w.push(z);x=true;}else if(x)break;}return w;};u.prototype.getStoriesInViewIgnoreHeight=function(){'use strict';var v=this.getAllStories(),w=false,x=[];for(var y=0;y<v.length;y++){var z=v[y];if(this.isVisible(z,false,0)){x.push(z);w=true;}else if(w)break;}return x;};u.prototype.getAllStoriesFromCache=function(){'use strict';if(this.cachedAllStories===null)this.cachedAllStories=this.getAllStories();return this.cachedAllStories;};u.prototype.invalidateAllStoriesCache=function(){'use strict';this.cachedAllStories=null;this.invalidateVisibleStoriesCache();};u.prototype.getVisibleStoriesFromCache=function(){'use strict';if(this.cachedVisibleStories===null)this.cachedVisibleStories=this.getAllStoriesInView();return this.cachedVisibleStories;};u.prototype.invalidateVisibleStoriesCache=function(){'use strict';this.cachedVisibleStories=null;};u.prototype.getAllStoriesInView=function(){'use strict';var v=this.getAllStoriesFromCache(),w={},x=false,y=0,z=v.length,aa=1,ba=v.length;if(this._indexOfLastVisibleStoryOnPreviousPass>z/2){y=z-1;z=-1;aa=-aa;}for(var ca=y;ca!=z;ca+=aa){var da=v[ca],ea=this.getHeightIfVisible(da,false,Math.min(this.minSizeToBeVisible,this.minFractionToBeVisibleForTimetracking*c('DOMDimensions').getElementDimensions(da).height));if(ea>0||da===this.focusedStory){if(da.getAttribute('data-insertion-position')===null)da.setAttribute('data-insertion-position',ca-this._headLoadStoryCount);var fa=this.getStoryID(da);w[fa]={story:da,height:ea,story_height:c('DOMDimensions').getElementDimensions(da).height};x=true;if(this.vpvdAnalysis){w[fa].y=c('getElementPosition')(da).y;w[fa].visible_position=ca;ba=Math.min(ba,ca);}}else if(x){this._indexOfLastVisibleStoryOnPreviousPass=ca-aa;break;}}if(this.vpvdAnalysis){this.numVisibleStories=0;for(fa in w)if(w.hasOwnProperty(fa)){w[fa].visible_position-=ba;this.numVisibleStories++;}}return w;};u.prototype.getTimetrackingDataToLog=function(v){'use strict';var w={evt:i,vpvd_start_timestamp:v.evp_ts,vpvd_time_delta:Math.round(v.vpvd),story_height:c('DOMDimensions').getElementDimensions(v.story).height,viewport_height:this.cachedViewportHeight};return {ft:w};};u.prototype.recordTimeStoryWasInView=function(v){'use strict';if(this.isTimetrackingEnabled&&v.vpvd>0){var w=this.getTimetrackingDataToLog(v),x=c('collectDataAttributes')(v.story,['ft']);Object.assign(w.ft,x.ft);var y=!!x.ft.ei&&w.ft.vpvd_time_delta>this.minTimeToReportImmediately;delete w.ei;this.sendDataToLog(v.story,w,y);}};u.prototype.hasBeenVisible=function(v){'use strict';return v in this.readStoryIDs;};u.prototype.isVisible=function(v,w,x){'use strict';return this.getHeightIfVisible(v,w,x)>0;};u.prototype.getHeightIfVisible=function(v,w,x){'use strict';if(w===undefined)w=this.isLoose;if(x===undefined)x=this.minSizeToBeVisible;var y=c('Vector').getScrollPosition().y,z=c('getViewportDimensions')().height,aa=c('getElementPosition')(v),ba=c('DOMDimensions').getElementDimensions(v),ca=z+this.maxScrollPosition-y;if(!aa.x&&!aa.y&&!ba.x&&!ba.y)return false;if(w&&aa.y<ca)return true;var da=Math.max(aa.y,0),ea=Math.min(aa.y+ba.height,z),fa=Math.min(ba.height,x);return ea-da>=fa?ea-da:0;};u.prototype.getHeightInViewport=function(v){'use strict';var w=c('getViewportDimensions')().height,x=c('getElementPosition')(v),y=c('DOMDimensions').getElementDimensions(v);if(!x.x&&!x.y&&!y.x&&!y.y)return false;var z=Math.max(x.y,0),aa=Math.min(x.y+y.height,w);return aa-z;};u.prototype.sendDataToLog=function(v,w,x){'use strict';if(this.useBanzai){var y={};if(x)y.delay=3000;var z=this.getSessionID();if(z)w.ft.session_id=z;if(this.useWaterfallLogging&&w.ft.evt==j){w.ft.should_waterfall_logging=1;w.ft['interface']='www';var aa=!this.initialStoriesLogged;this.waterfallLogStep(v,'200_sent_to_banzai',aa);}c('Banzai').post('feed_tracking',w,y);}else c('clickRefAction')(k,v,null,'FORCE',w);};u.prototype.waterfallLogStep=function(v,w,x){'use strict';var y=this.getStoryID(v);if(this.loggedStoryIDs[w]&&this.loggedStoryIDs[w][y])return;var z=this.getWaterfallData(v,w,x);if(!z.qid)return;new (c('AsyncSignal'))(l,z).send();if(!this.loggedStoryIDs[w])this.loggedStoryIDs[w]={};this.loggedStoryIDs[w][y]=true;};u.prototype.getWaterfallData=function(v,w,x){'use strict';var y=this._getDataToLogImpl(v),z=c('collectDataAttributes')(v,['ft']);Object.assign(y.ft,z.ft);var aa=y.ft;aa.height_in_viewport=this.getHeightInViewport(v);aa.step=w;aa.is_initial_story=x?1:0;aa['interface']='www';return aa;};u.prototype.markStoryRead=function(v){'use strict';var w=this.getStoryID(v);if(!w||this.hasBeenVisible(w))return;this.readStoryIDs[w]=true;this.annotatedStoryIDs[w]=true;var x=this._getDataToLogImpl(v),y=c('collectDataAttributes')(v,['ft']);Object.assign(x.ft,y.ft);delete x.ei;this.sendDataToLog(v,x,false);c('CSS').addClass(v,"_x72");if(this.vpvDebug)c('CSS').addClass(v,"_5m7s");};u.prototype.logAnnotatedVPV=function(v){'use strict';var w=this.getStoryID(v);if(!w||w in this.annotatedStoryIDs)return;this.annotatedStoryIDs[w]=true;var x=this._getDataToLogImpl(v),y=c('collectDataAttributes')(v,['ft']);Object.assign(x.ft,y.ft);delete x.ei;x.ft.vpv_ft_only=1;this.sendDataToLog(v,x,false);};u.prototype._getDataToLogImpl=function(v){'use strict';var w=this.getDataToLog(v);if(!w.ft)w.ft={};return w;};f.exports=u;},null);
__d('collectSubtreeData',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(j,k,l,m,n){if(j.offsetWidth===0&&j.offsetHeight===0)return n;var o={};if(j.getAttribute)for(s=0;s<k.length;s++){u=k[s];var p=j.getAttribute(l[u]);if(p){o[u]={};var q=JSON.parse(p);for(var r in m)if(q[r]!==undefined){o[u][r]=true;if(n[u]===undefined)n[u]={};if(n[u][r]===undefined)n[u][r]=[];if(m[r].length>0)n[u][r].push(m[r]);n[u][r].push('('+q[r]);}}}for(var s=0;s<j.childNodes.length;s++){var t=j.childNodes[s];h(t,k,l,m,n);}for(var u in o)for(var v in o[u]){var w=n[u][v][n[u][v].length-1];if(w.length>0&&w.charAt(0)=='('){n[u][v][n[u][v].length-1]=w.substr(1);}else n[u][v].push(')');}return n;}function i(j,k){var l={};for(var m=0;m<k.length;++m)l[k[m]]='data-'+k[m];var n={tn:"","tn-debug":","},o={};h(j,k,l,n,o);for(var p in o)for(var q in o[p])o[p][q]=o[p][q].join('');return o;}f.exports=i;},null);
__d("getFullScreenElement",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;}f.exports=h;},null);
__d('recordTNTreeData',['collectSubtreeData'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j){var k={},l=c('collectSubtreeData')(i,['ft']);for(var m in l.ft){k[m+'_tree']=l.ft[m];if(m==='tn-debug')i.setAttribute('tn-debug_subtree',l.ft[m]);}k.evt_value=i.offsetHeight;if(j)k.offset=Math.max(0,i.offsetTop-j.offsetTop);return k;}f.exports=h;},null);
__d('reportData',['Banzai','SessionName','ifRequired'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={retry:true};function i(j){var k=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],l={ft:k.ft||{},gt:k.gt||{}},m='-',n='r',o=c('ifRequired')('URI',function(q){return q.getRequestURI(true,true).getUnqualifiedURI().toString();},function(){return location.pathname+location.search+location.hash;}),p=[c('SessionName').getName(),Date.now(),'act',Date.now(),0,m,j,m,m,n,o,l,0,0,0,0];c('Banzai').post('eagle_eye_event',p,h);}f.exports=i;},null);
__d('PrivacySelectorNewDispatcher',['Dispatcher_DEPRECATED'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h='selector',i=Object.assign(new (c('Dispatcher_DEPRECATED'))(),{handleUpdateFromSelector:function(j){this.dispatch(babelHelpers['extends']({payloadSource:h},j));}});f.exports=i;},null);
__d('StreamViewportTracking',['DOM','DOMDimensions','ViewportTracking','ge','recordTNTreeData'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();var j=51;h=babelHelpers.inherits(k,c('ViewportTracking'));i=h&&h.prototype;k.prototype.init=function(l,m){'use strict';if(m)this.$StreamViewportTracking1=m;i.init.call(this,l);this.initSubscriptions();};k.prototype.initSubscriptions=function(){'use strict';};k.prototype.getDataFromConfig=function(l){'use strict';this.isTimetrackingEnabled=1;this.timeout=l.record_delay;};k.prototype.getTimeout=function(){'use strict';return this.timeout;};k.prototype.getStorySelector=function(){'use strict';return '.uiStreamStory';};k.prototype.getAllStories=function(){'use strict';var l=c('DOM').scry(this.getStream(),this.getStorySelector());return l.filter(function(m){return m.getAttribute('data-ft');});};k.prototype.getStoryID=function(l){'use strict';var m=JSON.parse(l.getAttribute('data-ft'));return m.mf_story_key;};k.prototype.getQueryID=function(l){'use strict';var m=JSON.parse(l.getAttribute('data-ft'));return m.qid;};k.prototype.getFBFeedLocations=function(l){'use strict';var m=JSON.parse(l.getAttribute('data-ft'));return m.fbfeed_location;};k.prototype.getFBFeedInsertionPosition=function(l){'use strict';var m=JSON.parse(l.getAttribute('data-ft'));return m.insertion_position;};k.prototype.getDataToLog=function(l){'use strict';var m={},n=this.getStream();m=c('recordTNTreeData')(l,n);var o=l.getAttribute('data-insertion-position');if(o!==null)m.inspos=o;m.evt=j;m.vpv_time=Math.round(Date.now()/1000);var p=c('DOM').scry(l,".fbStoryAttachmentImage")[0];if(p){var q=c('DOMDimensions').getElementDimensions(p);m.story_image_height=q.height;m.story_image_width=q.width;}return {ft:m};};k.prototype.getStream=function(){'use strict';if(this.$StreamViewportTracking1)return this.$StreamViewportTracking1;return c('ge')('home_stream');};k.init=function(l,m){'use strict';k.instance=new k();k.instance.init(l,m);};k.getInstance=function(){'use strict';return k.instance;};function k(){'use strict';h.apply(this,arguments);}f.exports=k;},null);
__d('FbFeedAccessible',['csx','cx','fbt','invariant','AccessibilityConfig','Arbiter','ARIA','BootloadedComponent.react','CSS','DOMQuery','JSResource','LitestandMessages','React','ReactDOM','SubscriptionsHandler','ge','getOrCreateDOMID'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l='Accessibility/StoriesRequested',m='Accessibility/StoriesLoaded',n='Accessibility/StoryContentInserted',o='Accessibility/SubstreamInserted',p=void 0,q=void 0,r={init:function(s){p=s;if(c('AccessibilityConfig').a11yNewsfeedStoryEnumeration){var t=new (c('SubscriptionsHandler'))();t.addSubscriptions(c('Arbiter').subscribe(c('LitestandMessages').STORIES_REQUESTED,this._onStoriesRequested.bind(this)),c('Arbiter').subscribe(c('LitestandMessages').STORIES_INSERTED,this._onInsertedSubstream.bind(this)),c('Arbiter').subscribe(c('LitestandMessages').NEWER_STORIES_INSERTED,this._onInsertedSubstream.bind(this)),c('Arbiter').subscribe(m,this._processStoriesLoaded.bind(this)),c('Arbiter').subscribe(l,this._processStoriesRequested.bind(this)),c('Arbiter').subscribe(n,this._processStoryContentInserted.bind(this)),c('Arbiter').subscribe(o,this._processInsertedSubstream.bind(this)));this._enumerateStories();}},informStoryContentInserted:function(s){c('Arbiter').inform(n,s);this.setAriaLabelledBy(s);},setAriaLabelledBy:function(s){var t=c('ge')(s),u;if(t&&this._isStory(t)){if(t.getAttribute('aria-labelledby'))return;u=this._filterForElement(t,["._4gns","._5pbw",".timestampContent",".uiStreamSponsoredLink","._5pbx"]);if(u.length>0)t.setAttribute('aria-labelledby',u.map(function(v){return c('getOrCreateDOMID')(v);}).join(' '));}},_getStories:function(s){return c('DOMQuery').scry(s||p,"._5jmm");},_onInsertedSubstream:function(s,t){if(t&&t.substream_id)c('Arbiter').inform(o,t.substream_id);},_onStoriesRequested:function(){c('Arbiter').inform(l);},_setEnumerationText:function(s,t,u){var v=c('React').createElement(c('BootloadedComponent.react'),{bootloadLoader:c('JSResource')('FbFeedPager.react').__setRef('FbFeedAccessible'),bootloadPlaceholder:c('React').createElement('div',null),position:t,total:u,'aria-hidden':'true'});c('ReactDOM').render(v,s);},_enumerateStories:function(){var s=this._getStories(p);q=s.length;s.forEach(function(t,u){this._enumerateStory(t,u+=1);}.bind(this));},_enumerateSubstream:function(s){var t=this._getStories();q=t.length;var u=this._getStories(c('ge')(s)),v=u.length||0;for(var w=0;w<v;w++)this._registerStoryEnumerationPosition(u[w],q-v+(w+1),w+1);},_enumerateStory:function(s,t){!this._isStory(s)?k(0):void 0;if(t>0){var u=c('DOMQuery').scry(s,"._4gns");if(u&&u[0])this._setEnumerationText(u[0],t,q);}},_processStoriesLoaded:function(){c('ARIA').notify(j._("\u0e42\u0e2b\u0e25\u0e14\u0e40\u0e23\u0e37\u0e48\u0e2d\u0e07\u0e23\u0e32\u0e27\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e40\u0e15\u0e34\u0e21\u0e41\u0e25\u0e49\u0e27"));},_processStoriesRequested:function(){c('ARIA').notify(j._("\u0e2a\u0e48\u0e07\u0e04\u0e33\u0e02\u0e2d\u0e40\u0e23\u0e37\u0e48\u0e2d\u0e07\u0e23\u0e32\u0e27\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e40\u0e15\u0e34\u0e21\u0e41\u0e25\u0e49\u0e27"));},_processInsertedSubstream:function(s,t){this._enumerateSubstream(t);this._enumerateStories();},_processStoryContentInserted:function(s,t){var u=void 0,v=c('ge')(t);if(v)u=JSON.parse(v.getAttribute('data-ft'));if(u&&u.ordinal_position){var w=u.ordinal_position.split(':'),x=w[0],y=w[1];x=parseInt(x,10);y=parseInt(y,10);this._enumerateStory(v,x);if(y===1)c('Arbiter').inform(m);}},_registerStoryEnumerationPosition:function(s,t,u){var v=JSON.parse(s.getAttribute('data-ft'));if(v){v.ordinal_position=t+':'+u;s.setAttribute('data-ft',JSON.stringify(v));}},_isStory:function(s){return c('CSS').matchesSelector(s,"._5jmm");},_filterForElement:function(s,t){return t.map(function(u){return c('DOMQuery').scry(s||document,u)[0];}).filter(function(u){return !!u;});}};f.exports=r;},null);
__d('PopoverLoadingMenu',['cx','BehaviorsMixin','DOM','PopoverMenuInterface','joinClasses'],function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,c('PopoverMenuInterface'));j=i&&i.prototype;function k(l){'use strict';j.constructor.call(this);this._config=l||{};this._theme=l.theme||{};}k.prototype.getRoot=function(){'use strict';if(!this._root){this._root=c('DOM').create('div',{className:c('joinClasses')("_54nq",this._config.className,this._theme.className)},c('DOM').create('div',{className:"_54ng"},c('DOM').create('div',{className:"_54nf _54af"},c('DOM').create('span',{className:"_54ag"}))));if(this._config.behaviors)this.enableBehaviors(this._config.behaviors);}return this._root;};Object.assign(k.prototype,c('BehaviorsMixin'),{_root:null});f.exports=k;},null);
__d('XUIBadge',['cx','invariant','CSS','DOM'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();function j(l){return parseInt(l,10)===l;}function k(l){'use strict';this.target=l.target;this.count=l.count;this.maxcount=l.maxcount;}k.prototype.getCount=function(){'use strict';return this.count;};k.prototype.setCount=function(l){'use strict';!j(l)?i(0):void 0;!(l>=0)?i(0):void 0;this.count=l;c('CSS').conditionClass(this.target,'hidden_elem',this.count===0);if(l>this.maxcount){c('DOM').setContent(this.target,this.maxcount+'+');c('CSS').addClass(this.target,"_5ugi");}else{c('DOM').setContent(this.target,l);c('CSS').removeClass(this.target,"_5ugi");}};k.prototype.setLegacyContent=function(l){'use strict';if(typeof l==='string'){c('CSS').conditionClass(this.target,'hidden_elem',l==0);c('DOM').setContent(this.target,l);c('CSS').removeClass(this.target,"_5ugi");}else this.setCount(l);};k.prototype.increment=function(){'use strict';this.setCount(this.getCount()+1);};f.exports=k;},null);
__d('VideoFrameBuffer',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j,k){'use strict';this.$VideoFrameBuffer2=j;this.$VideoFrameBuffer1=i;this.$VideoFrameBuffer3=k||'contain';}h.prototype.updateFrameBuffer=function(){'use strict';if(this.$VideoFrameBuffer4){this.$VideoFrameBuffer1.width=this.$VideoFrameBuffer4;this.$VideoFrameBuffer4=null;}if(this.$VideoFrameBuffer5){this.$VideoFrameBuffer1.height=this.$VideoFrameBuffer5;this.$VideoFrameBuffer5=null;}var i=this.$VideoFrameBuffer1.clientWidth||this.$VideoFrameBuffer1.width,j=this.$VideoFrameBuffer1.clientHeight||this.$VideoFrameBuffer1.height,k=i,l=j,m=this.$VideoFrameBuffer2.videoWidth/this.$VideoFrameBuffer2.videoHeight,n=k/l;if(this.$VideoFrameBuffer3==='cover'){n*=-1;m*=-1;}if(n>m){k=l*m;}else if(n<m)l=k/m;var o=this.$VideoFrameBuffer1.getContext('2d');if(!(o instanceof window.CanvasRenderingContext2D))return;o.drawImage(this.$VideoFrameBuffer2,(i-k)/2,(j-l)/2,k,l);};h.prototype.getDOMNode=function(){'use strict';return this.$VideoFrameBuffer1;};h.prototype.updateDimensions=function(i,j){'use strict';this.$VideoFrameBuffer4=i;this.$VideoFrameBuffer5=j;};f.exports=h;},null);
__d("XPrivacyCustomDialogController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/privacy\/custom_dialog\/",{id:{type:"String",required:true},option_id:{type:"String",required:true},autosave:{type:"Bool",defaultValue:false},explain_tags:{type:"Bool",defaultValue:false},limit_community:{type:"Bool",defaultValue:false},limit_facebook:{type:"Bool",defaultValue:false},limit_fof:{type:"Bool",defaultValue:false},limit_tagexpand:{type:"Bool",defaultValue:false},is_new_privacy_selector:{type:"Bool",defaultValue:false},render_location:{type:"Int"},content_type:{type:"String"},post_param:{type:"String"},privacy_data:{type:"String"},source:{type:"String"},tags:{type:"IntVector"},tag_expansion_button:{type:"String"},__asyncDialog:{type:"Int"}});},null);